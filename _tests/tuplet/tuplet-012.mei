<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="https://music-encoding.org/schema/4.0.0/mei-all.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="https://music-encoding.org/schema/4.0.0/mei-all.rng" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<mei xmlns="http://www.music-encoding.org/ns/mei" meiversion="4.0.0">
   <meiHead>
      <fileDesc>
         <titleStmt>
            <title>Staff spacing with tuplets</title>
         </titleStmt>
         <pubStmt>
            <date>2017-04-25</date>
         </pubStmt>
         <notesStmt>
            <annot>Verovio avoids collisions of tuplets without adding unneccessary space between staves.</annot>
         </notesStmt>
      </fileDesc>
      <encodingDesc>
         <appInfo>
            <application version="unknown">
               <name>Verovio</name>
            </application>
         </appInfo>
      </encodingDesc>
   </meiHead>
   <music>
      <body>
         <mdiv>
            <score>
               <scoreDef>
                  <staffGrp symbol="bracket">
                     <staffDef n="1" lines="5" clef.shape="G" clef.line="2" />
                     <staffDef n="2" lines="5" clef.shape="G" clef.line="2" />
                     <staffDef n="3" lines="5" clef.shape="G" clef.line="2" clef.dis="8" clef.dis.place="below" />
                  </staffGrp>
               </scoreDef>
               <section>
                  <measure n="8">
                     <staff n="1">
                        <layer n="1">
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dur="1" oct="4" pname="b">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="2" oct="5" pname="d">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dots="1" dur="2" oct="5" pname="c">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="4" oct="5" pname="c">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="2" oct="5" pname="c">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                        </layer>
                     </staff>
                     <staff n="2">
                        <layer n="1">
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dur="1" oct="4" pname="g">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="2" oct="4" pname="d">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dots="1" dur="2" oct="4" pname="e">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="4" oct="4" pname="e">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="2" oct="4" pname="f">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                        </layer>
                     </staff>
                     <staff n="3">
                        <layer n="1">
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dur="1" oct="3" pname="g">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="2" oct="3" pname="b">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dots="1" dur="2" oct="4" pname="c">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="4" oct="4" pname="c">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="2" oct="3" pname="a">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                        </layer>
                     </staff>
                  </measure>
                  <measure n="9">
                     <staff n="1">
                        <layer n="1">
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dur="2" oct="4" pname="b">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="1" oct="4" pname="a">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dur="1" oct="4" pname="b">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="2" oct="5" pname="d">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                        </layer>
                     </staff>
                     <staff n="2">
                        <layer n="1">
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dur="2" oct="4" pname="g">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="1" oct="4" pname="f">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dur="1" oct="4" pname="g">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="2" oct="4" pname="b">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                        </layer>
                     </staff>
                     <staff n="3">
                        <layer n="1">
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dur="2" oct="3" pname="g">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="1" oct="4" pname="d">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dur="1" oct="3" pname="g">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="2" oct="4" pname="g">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                        </layer>
                     </staff>
                  </measure>
                  <measure n="10">
                     <staff n="1">
                        <layer n="1">
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dots="1" dur="2" oct="5" pname="f">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="4" oct="5" pname="f">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="2" oct="5" pname="f">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dur="2" oct="5" pname="e">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="1" oct="5" pname="d">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                        </layer>
                     </staff>
                     <staff n="2">
                        <layer n="1">
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dots="1" dur="2" oct="4" pname="a">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="4" oct="4" pname="a">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="2" oct="4" pname="b">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dur="2" oct="5" pname="c">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="1" oct="4" pname="b">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                        </layer>
                     </staff>
                     <staff n="3">
                        <layer n="1">
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dots="1" dur="2" oct="4" pname="f">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="4" oct="4" pname="f">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="2" oct="4" pname="d">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                           <tuplet num="3" numbase="2" bracket.visible="true" num.format="count">
                              <note dur="2" oct="4" pname="c">
                                 <accid accid.ges="n" />
                              </note>
                              <note dur="1" oct="4" pname="g">
                                 <accid accid.ges="n" />
                              </note>
                           </tuplet>
                        </layer>
                     </staff>
                  </measure>
               </section>
            </score>
         </mdiv>
      </body>
   </music>
</mei>

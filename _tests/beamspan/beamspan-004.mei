<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="https://music-encoding.org/schema/dev/mei-all.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="https://music-encoding.org/schema/dev/mei-all.rng" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<mei xmlns="http://www.music-encoding.org/ns/mei" meiversion="5.0.0-dev">
   <meiHead>
      <fileDesc>
         <titleStmt>
            <title>Beam spans across systems</title>
         </titleStmt>
         <pubStmt>
            <respStmt>
               <persName role="editor">Laurent Pugin</persName>
               <persName role="encoder">Craig Sapp</persName>
            </respStmt>
            <date isodate="2022-02-24">2022-02-24</date>
            <pubPlace>
               <ref target="https://github.com/rism-digital/verovio/issue/2655" />
            </pubPlace>
         </pubStmt>
         <seriesStmt>
            <title>Verovio test suite</title>
         </seriesStmt>
         <notesStmt>
            <annot>Beam spans should render properly when spanning over multiple systems.</annot>
         </notesStmt>
      </fileDesc>
      <encodingDesc>
         <appInfo>
            <application version="3.9.0" label="0">
               <name>Verovio</name>
            </application>
         </appInfo>
      </encodingDesc>
      <extMeta><![CDATA[ { "breaks": "encoded" }]]></extMeta>
   </meiHead>
   <music>
      <body>
         <mdiv>
            <score>
               <scoreDef>
                  <staffGrp bar.thru="true" symbol="brace">
                     <staffDef n="1" lines="5">
                        <clef shape="G" line="2" />
                        <keySig sig="5f" />
                     </staffDef>
                     <staffDef n="2" lines="5">
                        <clef shape="F" line="4" />
                        <keySig sig="5f" />
                     </staffDef>
                  </staffGrp>
               </scoreDef>
               <section>
                  <pb/>
                  <measure>
                     <staff n="1">
                        <layer n="1">
                           <note xml:id="note-L5F2" dur="4" oct="4" pname="d" accid.ges="f" />
                           <rest dur="4" />
                           <rest dur="2" />
                        </layer>
                     </staff>
                     <staff n="2">
                        <layer n="1">
                           <tuplet num="3" numbase="2" num.visible="false" bracket.visible="false" num.format="count">
                              <rest dur="8" />
                              <note xml:id="note-L6F1" dur="8" oct="3" pname="d" accid.ges="f" />
                              <note xml:id="note-L7F1" dur="8" oct="3" pname="a" accid.ges="f" />
                           </tuplet>
                           <clef shape="G" line="2" />
                           <tuplet num="3" numbase="2" num.visible="false" bracket.visible="false" num.format="count">
                              <note xml:id="note-L9F1" dur="8" oct="4" pname="f" />
                              <note xml:id="note-L10F1" dur="8" oct="4" pname="d" accid.ges="f" />
                              <note xml:id="note-L11F1" dur="8" oct="4" pname="b" accid.ges="f" />
                           </tuplet>
                           <tuplet num="3" numbase="2" num.visible="false" bracket.visible="false" num.format="count">
                              <note xml:id="note-L12F1" dur="8" oct="4" pname="a" accid.ges="f" />
                              <note xml:id="note-L13F1" dur="8" oct="5" pname="f" />
                              <note xml:id="note-L14F1" dur="8" oct="5" pname="d" accid.ges="f" />
                           </tuplet>
                           <tuplet num="3" numbase="2" num.visible="false" bracket.visible="false" num.format="count">
                              <note xml:id="note-L15F1" dur="8" oct="5" pname="b" accid.ges="f" />
                              <note xml:id="note-L16F1" dur="8" oct="5" pname="a" accid.ges="f" />
                              <note xml:id="note-L17F1" dur="8" oct="5" pname="f" />
                           </tuplet>
                        </layer>
                     </staff>
                     <tie type="hanging-initial" staff="1" tstamp="0.000000" endid="#note-L5F2" />
                     <slur staff="2" startid="#note-L6F1" endid="#note-L31F1" />
                     <beamSpan plist="#note-L31F1 #note-L30F1 #note-L29F1 #note-L28F1 #note-L27F1 #note-L26F1 #note-L25F1 #note-L24F1 #note-L22F1 #note-L21F1 #note-L20F1 #note-L19F1 #note-L17F1 #note-L16F1 #note-L15F1 #note-L14F1 #note-L13F1 #note-L12F1 #note-L11F1 #note-L10F1 #note-L9F1 #note-L7F1 #note-L6F1" startid="#note-L6F1" endid="#note-L31F1" />
                  </measure>
                  <sb/>
                  <measure n="2">
                     <staff n="1">
                        <layer n="1">
                           <rest dur="2" />
                           <rest dur="4" />
                           <chord dur="4">
                              <note oct="6" pname="f" />
                              <note oct="5" pname="f" />
                           </chord>
                        </layer>
                     </staff>
                     <staff n="2">
                        <layer n="1">
                           <tuplet num="3" numbase="2" num.visible="false" bracket.visible="false" num.format="count">
                              <note xml:id="note-L19F1" dur="8" oct="5" pname="d" accid.ges="f" />
                              <note xml:id="note-L20F1" dur="8" oct="4" pname="b" accid.ges="f" />
                              <note xml:id="note-L21F1" dur="8" oct="4" pname="a" accid.ges="f" />
                           </tuplet>
                           <tuplet num="3" numbase="2" num.visible="false" bracket.visible="false" num.format="count">
                              <note xml:id="note-L22F1" dur="8" oct="4" pname="f" />
                              <clef shape="F" line="4" />
                              <note xml:id="note-L24F1" dur="8" oct="4" pname="d" accid.ges="f" />
                              <note xml:id="note-L25F1" dur="8" oct="3" pname="a" accid.ges="f" />
                           </tuplet>
                           <tuplet num="3" numbase="2" num.visible="false" bracket.visible="false" num.format="count">
                              <note xml:id="note-L26F1" dur="8" oct="3" pname="f" />
                              <note xml:id="note-L27F1" dur="8" oct="4" pname="d" accid.ges="f" />
                              <note xml:id="note-L28F1" dur="8" oct="3" pname="a" accid.ges="f" />
                           </tuplet>
                           <tuplet num="3" numbase="2" num.visible="false" bracket.visible="false" num.format="count">
                              <note xml:id="note-L29F1" dur="8" oct="4" pname="f" />
                              <note xml:id="note-L30F1" dur="8" oct="4" pname="d" accid.ges="f" />
                              <note xml:id="note-L31F1" dur="8" oct="3" pname="a" accid.ges="f" />
                           </tuplet>
                        </layer>
                     </staff>
                  </measure>
                  <sb/>
                  <measure n="3">
                     <staff n="1">
                        <layer n="1">
                           <chord xml:id="chord-L34F3" dur="2">
                              <note oct="6" pname="f" />
                              <note oct="5" pname="f" />
                           </chord>
                           <beam>
                              <chord dur="8">
                                 <note oct="5" pname="b" accid.ges="f" />
                                 <note oct="4" pname="b" accid.ges="f" />
                              </chord>
                              <chord dur="8">
                                 <note oct="6" pname="c" />
                                 <note oct="5" pname="c" />
                              </chord>
                              <chord dur="8">
                                 <note oct="6" pname="d" accid.ges="f" />
                                 <note oct="5" pname="d" accid.ges="f" />
                              </chord>
                              <chord dur="8">
                                 <note oct="6" pname="f" />
                                 <note oct="5" pname="f" />
                              </chord>
                           </beam>
                        </layer>
                     </staff>
                     <staff n="2">
                        <layer n="1">
                           <tuplet num="12" numbase="8" num.visible="false" bracket.visible="false" num.format="count">
                              <rest dur="8" ploc="c" oloc="4" />
                              <beam>
                                 <note xml:id="note-L35F1" dur="8" oct="3" pname="g" accid="n" />
                                 <note dur="8" oct="4" pname="d" accid.ges="f" />
                                 <note dur="8" oct="3" pname="b" accid.ges="f" />
                                 <note dur="8" oct="4" pname="f" />
                                 <note dur="8" oct="4" pname="d" accid.ges="f" />
                                 <note dur="8" oct="3" pname="b" accid.ges="f" />
                                 <note dur="8" oct="3" pname="g" />
                                 <note dur="8" oct="4" pname="d" accid.ges="f" />
                                 <note dur="8" oct="3" pname="b" accid.ges="f" />
                                 <note dur="8" oct="4" pname="f" />
                                 <note xml:id="note-L47F1" dur="8" oct="4" pname="d" accid.ges="f" />
                              </beam>
                           </tuplet>
                        </layer>
                        <layer n="2">
                           <note dur="1" oct="2" pname="d" accid.ges="f" />
                        </layer>
                     </staff>
                     <arpeg plist="#chord-L34F3" />
                     <slur staff="2" startid="#note-L35F1" endid="#note-L47F1" />
                  </measure>
               </section>
            </score>
         </mdiv>
      </body>
   </music>
</mei>
